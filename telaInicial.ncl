<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- Generated by NCL Eclipse -->
<ncl id="telaInicial" xmlns="http://www.ncl.org.br/NCL3.0/EDTVProfile">
	<head>
		
		<importedDocumentBase>
			<importNCL alias="tSel" documentURI="telaSelecao.ncl"/>
		</importedDocumentBase>
		<regionBase>
			<importBase alias="reg" documentURI="regioes.ncl"/>
		</regionBase>
		<descriptorBase>
			<importBase alias="des" documentURI="descritores.ncl"/>
		</descriptorBase>
		<connectorBase>
			<importBase documentURI="connectorBaseTelaInicial.ncl" alias="conectores"/>
		</connectorBase>
		
	</head>

	<body>	
		
		<context id="ctxTelaInicial">
			
			<context id="ctxBeloHorizonte"	refer="tSel#ctxBeloHorizonte"/>
			<context id="ctxBrasilia"		refer="tSel#ctxBrasilia"/>
			<context id="ctxCuiaba"			refer="tSel#ctxCuiaba"/>
			<context id="ctxCuritiba"		refer="tSel#ctxCuritiba"/>
			<context id="ctxFortaleza"		refer="tSel#ctxFortaleza"/>
			<context id="ctxManaus"			refer="tSel#ctxManaus"/>
			<context id="ctxNatal"			refer="tSel#ctxNatal"/>
			<context id="ctxPortoAlegre"	refer="tSel#ctxPortoAlegre"/>
			<context id="ctxRecife"			refer="tSel#ctxRecife"/>
			<context id="ctxRiodeJaneiro"	refer="tSel#ctxRiodeJaneiro"/>
			<context id="ctxSalvador"		refer="tSel#ctxSalvador"/>
			<context id="ctxSaoPaulo"		refer="tSel#ctxSaoPaulo"/>
				
			<port id="portaImagemTelaInicial"	component="imagemTelaInicial"/>
		    <port id="portaMapa"			component="imagemMapa"/>
			<port id="portaPontoAM" 		component="pontoAM"/>
			<port id="portaPontoMT" 		component="pontoMT"/>
			<port id="portaPontoDF" 		component="pontoDF"/>
			<port id="portaPontoSP" 		component="pontoSP"/>
			<port id="portaPontoRJ" 		component="pontoRJ"/>
			<port id="portaPontoRS" 		component="pontoRS"/>
			<port id="portaPontoMG" 		component="pontoMG"/>
			<port id="portaPontoPR" 		component="pontoPR"/>
			<port id="portaPontoBA" 		component="pontoBA"/>
			<port id="portaPontoPE" 		component="pontoPE"/>
			<port id="portaPontoRN" 		component="pontoRN"/>
			<port id="portaPontoCE" 		component="pontoCE"/>
			
			<media id="imagemTelaInicial" src="media/plano_fundo.png" descriptor="des#idTelaInicial"/>
			<media id="imagemMapa" src="media/mapa_novo.png" descriptor="des#idMapa"/>
			
			<media id="botaoSair" src="media/botaoSair.png" descriptor="des#idBotaoSair"/>
			<media id="botaoSobre" src="media/botaoSobre.png" descriptor="des#idBotaoSobre"/>
			<media id="botaoVoltar" src="media/botaoVoltar.png" descriptor="des#idBotaoVoltar"/>
			<media id="botaoIdioma" src="media/botaoIdioma.png" descriptor="des#idBotaoIdioma"/>
			<media id="painelNavegacao" src="media/navegacao.png" descriptor="des#idNavegacao"/>
			
			<media id="pontoAM" src="media/pontoAzul.png" descriptor="des#idPontoAM"/>
			<media id="pontoMT" src="media/pontoAzul.png" descriptor="des#idPontoMT"/>
			<media id="pontoDF" src="media/pontoAzul.png" descriptor="des#idPontoDF"/>
			<media id="pontoSP" src="media/pontoAzul.png" descriptor="des#idPontoSP"/>
			<media id="pontoRJ" src="media/pontoAzul.png" descriptor="des#idPontoRJ"/>
			<media id="pontoRS" src="media/pontoAzul.png" descriptor="des#idPontoRS"/>
			<media id="pontoMG" src="media/pontoAzul.png" descriptor="des#idPontoMG"/>
			<media id="pontoPR" src="media/pontoAzul.png" descriptor="des#idPontoPR"/>
			<media id="pontoBA" src="media/pontoAzul.png" descriptor="des#idPontoBA"/>
			<media id="pontoPE" src="media/pontoAzul.png" descriptor="des#idPontoPE"/>
			<media id="pontoRN" src="media/pontoAzul.png" descriptor="des#idPontoRN"/>
			<media id="pontoCE" src="media/pontoAzul.png" descriptor="des#idPontoCE"/>
			
			<media id="settings" type="application/x-ginga-settings">
				<property name="service.currentKeyMaster" value=""/>
			</media>
			
			<context id="ctxSobre">
				<port id="pSobre" component="sobre"/>
				<media id="sobre" src="media/telaIdioma/menuPT.png" descriptor="des#idMenuIdioma"/>
			</context>
			
			<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
		 !						ELOS						             !
		 ! 	  define os elos que regem o sincronismo entre as mï¿½dias     !					 
		 !+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
		 	<link id="lIniciaTelaInicial" xconnector="conectores#noInicio">
		 		<bind role="onBegin" component="ctxTelaInicial"/>
		 		<bind component="imagemTelaInicial" role="start"/>
				<bind component="imagemMapa" role="start"/>
			 </link>
		 		
		 	<link id="lIniciaMapa" xconnector="conectores#noInicioStartStop">
				<bind role="onBegin" component="imagemMapa"/>
				
				
				<bind component="painelNavegacao" role="stop"/>
				
				<bind role="start" component="botaoVoltar"/>
				<bind role="start" component="botaoSair"/>
				<bind role="start" component="botaoSobre"/>
				<bind role="start" component="botaoIdioma"/>
				<bind role="start" component="painelNavegacao"/>
				
				<bind role="start" component="pontoAM"/>
				<bind role="start" component="pontoMT"/>
				<bind role="start" component="pontoDF"/>
				<bind role="start" component="pontoSP"/>
				<bind role="start" component="pontoRJ"/>
				<bind role="start" component="pontoRS"/>
				<bind role="start" component="pontoMG"/>
				<bind role="start" component="pontoPR"/>
				<bind role="start" component="pontoBA"/>
				<bind role="start" component="pontoPE"/>
				<bind role="start" component="pontoRN"/>
				<bind role="start" component="pontoCE"/>

			</link>
			
			<link id="lFimMapa" xconnector="conectores#noFimStartStop">
				<bind role="onEnd" component="imagemMapa"/>
				<bind role="stop" component="botaoSobre"/>
				<bind role="stop" component="botaoIdioma"/>
				
				<bind role="stop" component="pontoAM"/>
				<bind role="stop" component="pontoMT"/>
				<bind role="stop" component="pontoDF"/>
				<bind role="stop" component="pontoSP"/>
				<bind role="stop" component="pontoRJ"/>
				<bind role="stop" component="pontoRS"/>
				<bind role="stop" component="pontoMG"/>
				<bind role="stop" component="pontoPR"/>
				<bind role="stop" component="pontoBA"/>
				<bind role="stop" component="pontoPE"/>
				<bind role="stop" component="pontoRN"/>
				<bind role="stop" component="pontoCE"/>
				
				<bind role="start" component="botaoVoltar"/>
			</link>
				
			
		 	<link id="lReiniciaTelaInicial" xconnector="conectores#onEndOr">
				<bind role="onEnd" component="ctxBeloHorizonte"/>
				<bind role="onEnd" component="ctxBrasilia"/>
				<bind role="onEnd" component="ctxCuiaba"/>
				<bind role="onEnd" component="ctxCuritiba"/>
				<bind role="onEnd" component="ctxFortaleza"/>
				<bind role="onEnd" component="ctxManaus"/>
				<bind role="onEnd" component="ctxNatal"/>
				<bind role="onEnd" component="ctxPortoAlegre"/>
				<bind role="onEnd" component="ctxRecife"/>
				<bind role="onEnd" component="ctxRiodeJaneiro"/>
				<bind role="onEnd" component="ctxSalvador"/>
				<bind role="onEnd" component="ctxSaoPaulo"/>
				<bind role="start" component="imagemMapa"/>
			</link>
		 
			<link id="lSelecionaBeloHorizonte" xconnector="conectores#onSelectionSetStartNStop">
				<bind role="onSelection" component="pontoMG"/>
				<bind role="set" component="settings" interface="service.currentKeyMaster">
					<bindParam name="var" value="tSel"/>
				</bind>
				<bind role="stop" component="imagemMapa"/>
				<bind role="start" component="ctxBeloHorizonte"/>
			</link>
			<link id="lSelecionaBrasilia" xconnector="conectores#onSelectionSetStartNStop">
				<bind role="onSelection" component="pontoDF"/>
				<bind role="set" component="settings" interface="service.currentKeyMaster">
					<bindParam name="var" value="tSel"/>
				</bind>
				<bind role="stop" component="imagemMapa"/>
				<bind role="start" component="ctxBrasilia"/>
			</link>
			<link id="lSelecionaCuiaba" xconnector="conectores#onSelectionSetStartNStop">
				<bind role="onSelection" component="pontoMT"/>
				<bind role="set" component="settings" interface="service.currentKeyMaster">
					<bindParam name="var" value="tSel"/>
				</bind>
				<bind role="stop" component="imagemMapa"/>
				<bind role="start" component="ctxCuiaba"/>
			</link>
			<link id="lSelecionaCuritiba" xconnector="conectores#onSelectionSetStartNStop">
				<bind role="onSelection" component="pontoPR"/>
				<bind role="set" component="settings" interface="service.currentKeyMaster">
					<bindParam name="var" value="tSel"/>
				</bind>
				<bind role="stop" component="imagemMapa"/>
				<bind role="start" component="ctxCuritiba"/>
			</link>
			<link id="lSelecionaFortaleza" xconnector="conectores#onSelectionSetStartNStop">
				<bind role="onSelection" component="pontoCE"/>
				<bind role="set" component="settings" interface="service.currentKeyMaster">
					<bindParam name="var" value="tSel"/>
				</bind>
				<bind role="stop" component="imagemMapa"/>
				<bind role="start" component="ctxFortaleza"/>
			</link>
			<link id="lSelecionaManaus" xconnector="conectores#onSelectionSetStartNStop">
				<bind role="onSelection" component="pontoAM"/>
				<bind role="set" component="settings" interface="service.currentKeyMaster">
					<bindParam name="var" value="tSel"/>
				</bind>
				<bind role="stop" component="imagemMapa"/>
				<bind role="start" component="ctxManaus"/>
			</link>
			<link id="lSelecionaNatal" xconnector="conectores#onSelectionSetStartNStop">
				<bind role="onSelection" component="pontoRN"/>
				<bind role="set" component="settings" interface="service.currentKeyMaster">
					<bindParam name="var" value="tSel"/>
				</bind>
				<bind role="stop" component="imagemMapa"/>
				<bind role="start" component="ctxNatal"/>
			</link>
			<link id="lSelecionaPortoAlegre" xconnector="conectores#onSelectionSetStartNStop">
				<bind role="onSelection" component="pontoRS"/>
				<bind role="set" component="settings" interface="service.currentKeyMaster">
					<bindParam name="var" value="tSel"/>
				</bind>
				<bind role="stop" component="imagemMapa"/>
				<bind role="start" component="ctxPortoAlegre"/>
			</link>
			<link id="lSelecionaRecife" xconnector="conectores#onSelectionSetStartNStop">
				<bind role="onSelection" component="pontoPE"/>
				<bind role="set" component="settings" interface="service.currentKeyMaster">
					<bindParam name="var" value="tSel"/>
				</bind>
				<bind role="stop" component="imagemMapa"/>
				<bind role="start" component="ctxRecife"/>
			</link>
			<link id="lSelecionaRioJaneiro" xconnector="conectores#onSelectionSetStartNStop">
				<bind role="onSelection" component="pontoRJ"/>
				<bind role="set" component="settings" interface="service.currentKeyMaster">
					<bindParam name="var" value="tSel"/>
				</bind>
				<bind role="stop" component="imagemMapa"/>
				<bind role="start" component="ctxRiodeJaneiro"/>
			</link>
			<link id="lSelecionaSalvador" xconnector="conectores#onSelectionSetStartNStop">
				<bind role="onSelection" component="pontoBA"/>
				<bind role="set" component="settings" interface="service.currentKeyMaster">
					<bindParam name="var" value="tSel"/>
				</bind>
				<bind role="stop" component="imagemMapa"/>
				<bind role="start" component="ctxSalvador"/>
			</link>
			<link id="lSelecionaSaoPaulo" xconnector="conectores#onSelectionSetStartNStop">
				<bind role="onSelection" component="pontoSP"/>
				<bind role="set" component="settings" interface="service.currentKeyMaster">
					<bindParam name="var" value="tSel"/>
				</bind>
				<bind role="stop" component="imagemMapa"/>
				<bind role="start" component="ctxSaoPaulo"/>
			</link>
			
			<link id="lSair" xconnector="conectores#onKeySelection_and_NodeStateTestAbort">
				<bind role="onSelection" component="imagemTelaInicial">
					<bindParam name="vKey" value="RED"/>
				</bind>
				<bind role="test" component="ctxTelaInicial">
					<bindParam name="vState" value="occurring"/>
				</bind>
				
				<bind role="abort" component="ctxBeloHorizonte"/>
				<bind role="abort" component="ctxBrasilia"/>
				<bind role="abort" component="ctxCuiaba"/>
				<bind role="abort" component="ctxCuritiba"/>
				<bind role="abort" component="ctxFortaleza"/>
				<bind role="abort" component="ctxManaus"/>
				<bind role="abort" component="ctxNatal"/>
				<bind role="abort" component="ctxPortoAlegre"/>
				<bind role="abort" component="ctxRecife"/>
				<bind role="abort" component="ctxRiodeJaneiro"/>
				<bind role="abort" component="ctxSalvador"/>
				<bind role="abort" component="ctxSaoPaulo"/>
				<bind role="abort" component="ctxSobre"/>
				
				<bind component="ctxTelaInicial" role="abort"/>
			</link>
			
  		
  			<link id="lSobre_2_IniPT" xconnector="conectores#onKeySelection_and_NodeStateTestStartStop">

  				<bind role="onSelection" component="botaoVoltar">
				  	<bindParam name="vKey" value="GREEN"/>
				</bind>
				<bind role="test" component="ctxSobre">
					<bindParam name="vState" value="occurring"/>
				</bind>
				
				<bind component="ctxSobre" role="stop"/>
  				<bind component="imagemMapa" role="start"/>
  				
  			</link>
  		
  			<link id="lIniPT_2_Sobre" xconnector="conectores#onKeySelection_and_NodeStateTestStartStop">

  				<bind role="onSelection" component="imagemMapa">
				  	<bindParam name="vKey" value="YELLOW"/>
				</bind>
				<bind role="test" component="ctxTelaInicial">
					<bindParam name="vState" value="occurring"/>
				</bind>
				
  				<bind component="imagemMapa" role="stop"/>
  				<bind component="botaoVoltar" role="start"/>
  				<bind component="ctxSobre" role="start"/>
  				
  			</link>
			
		</context>
		

	</body>
	
</ncl>